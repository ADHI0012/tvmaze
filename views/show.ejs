<% layout('layouts/boilerplate') -%>
<div class="container my-4">
  <div class="card p-4 mb-4 text-light" style="background-color: #2e3236">
    <div class="row">
      <div class="col-md-4 text-center">
        <h1 class="mb-3"><%= bestMatch.show.name %></h1>
        <img
          class="img-fluid rounded-3 shadow mb-3"
          src="<%=bestMatch.show.image.medium %>"
          alt="poster_of_<%= bestMatch.show.name %>"
        />
      </div>

      <div class="col-md-8">
        <h2>Details</h2>
        <div class="lead mb-3" style="max-width: 90%">
          <%- bestMatch.show.summary %>
        </div>

        <% for (let genre of bestMatch.show.genres) { %>
        <span class="badge bg-secondary mb-2"><%= genre %></span>
        <% } %>

        <p class="mt-3">
          <a class="btn btn-primary" href="<%= bestMatch.show.officialSite %>">
            Official Site
          </a>
          <a class="btn btn-success ms-2" href="/<%= bestMatch.show.id %>/cast"
            >View Cast</a
          >
          <a
            class="btn btn-warning ms-2 text-dark"
            href="/<%= bestMatch.show.id %>/seasons"
            >Seasons</a
          >
          <a class="btn btn-info ms-2" href="/<%= bestMatch.show.id %>/reviews"
            >View Reviews</a
          >
        </p>
        <form action="/favorites/add" method="POST">
          <input type="hidden" name="id" value="<%= bestMatch.show.id %>" />
          <button
            class="btn ms-auto d-block"
            style="
              background-color: #495057;
              border-color: #495057;
              color: white;
            "
          >
            Add to Favorites
          </button>
        </form>
        <p>
          <span class="badge bg-dark text-light p-2">
            ‚≠ê Rating: <%= bestMatch.show.rating.average %>/10
          </span>
        </p>
      </div>
    </div>
  </div>

  <div class="card p-4 text-light" style="background-color: #2e3236">
    <h3>Add a Review</h3>
    <form action="/<%=bestMatch.show.id %>/reviews" method="POST">
      <textarea
        class="form-control mb-2"
        id="reviewText"
        rows="3"
        name="text"
      ></textarea>
      <button class="btn btn-success">Submit</button>
    </form>
  </div>
</div>
